[General]
# 排除简单主机名检测
exclude-simple-hostnames = false

# 允许WiFi访问
allow-wifi-access = true

# 启用HTTP API和Web仪表板
http-api-tls = false
http-api-web-dashboard = true

# 延迟检测相关设置
internet-test-url = http://www.apple.com/library/test/success.html
proxy-test-url = http://www.apple.com/library/test/success.html
test-timeout = 10

# 禁用WiFi辅助
wifi-assist = false

# 默认关闭IPv6
ipv6 = false
ipv6-vif = disabled

# 设置UDP优先
udp-priority = true

# 不使用本地主机项进行代理
use-local-host-item-for-proxy = false

# 日志级别设置为警告
loglevel = warning

# 显示拒绝连接的错误页面
show-error-page-for-reject = true

# DNS相关设置
dns-server = system

# 其他
read-etc-hosts = true
disable-geoip-db-auto-update = false
all-hybrid = false

# 跳过代理
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local

# 第三方GeoIP库
geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Hackl0us/GeoIP2-CN@release/Country.mmdb

# 高级设置
allow-dns-svcb = false
include-all-networks = false
include-local-networks = false
include-cellular-services = false

# 代理接管模式
compatibility-mode = 1

# 加密DNS跳过证书验证
encrypted-dns-skip-cert-verification = false

# 启用DOH
encrypted-dns-server = https://223.6.6.6/dns-query

[Proxy Group]
# 设置全局代理，包括机场1、机场2、机场3，并进行定时更新
Proxy = select, 机场1, 机场2, 机场3, update-interval=0, no-alert=0, hidden=0, include-all-proxies=1

# Apple规则组，包含所有代理，不显示弹窗，不隐藏，不包括其他代理组，非持久化
Apple = select, no-alert=0, hidden=0, include-all-proxies=1, persistent=0, include-other-group=Proxy

# Privacy规则组，包含所有代理，不显示弹窗，不隐藏，不包括其他代理组，非持久化
Privacy = select, no-alert=0, hidden=0, include-all-proxies=1, persistent=0, include-other-group=Proxy

# Telegram规则组，包含所有代理，不显示弹窗，不隐藏，不包括其他代理组，非持久化
Telegram = select, no-alert=0, hidden=0, include-all-proxies=1, persistent=0, include-other-group=Proxy

# Stream规则组，包含所有代理，不显示弹窗，不隐藏，不包括其他代理组，非持久化
Stream = select, no-alert=0, hidden=0, include-all-proxies=1, persistent=0, include-other-group=Proxy

# OpenAI规则组，包含所有代理，不显示弹窗，不隐藏，不包括其他代理组，非持久化
OpenAI = select, no-alert=0, hidden=0, include-all-proxies=1, persistent=0, include-other-group=Proxy

# 多机场示例，如果不需要可以删除
机场1 = select, DIRECT, policy-path=机场1订阅链接, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
机场2 = select, DIRECT, policy-path=机场2订阅链接, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
机场3 = select, DIRECT, policy-path=机场3订阅链接, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0

[Rule]
# 设置域名集合，使用规则集合提供的CDN配置
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,Proxy,no-resolve,extended-matching

# 使用规则集合提供的非IP CDN配置
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,Proxy,no-resolve,extended-matching

# 设置Microsoft CDN规则集合
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf,Proxy,no-resolve,extended-matching

# 针对googlevideo.com域名使用代理
DOMAIN-SUFFIX,googlevideo.com,Proxy,extended-matching

# 针对video.twimg.com域名使用代理
DOMAIN,video.twimg.com,Proxy,extended-matching

# 针对ahcdn.com域名使用代理
DOMAIN-SUFFIX,ahcdn.com,Proxy,extended-matching

# 针对svedeu.lol域名直连
DOMAIN-SUFFIX,svedeu.lol,DIRECT

# 使用规则集合提供的流媒体配置
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,Stream,no-resolve,extended-matching

# 使用规则集合提供的IP流媒体配置
RULE-SET,https://ruleset.skk.moe/List/ip/stream.conf,Stream,no-resolve,extended-matching

# 使用Telegram规则集合
RULE-SET,https://cdn.jsdelivr.net/gh/Blankwonder/surge-list@master/telegram.list,Telegram,no-resolve,extended-matching

# 设置苹果CDN域名集合
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/apple_cdn.conf,Apple,no-resolve,extended-matching

# 使用规则集合提供的苹果服务配置
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_services.conf,Apple,no-resolve,extended-matching

# 使用OpenAI规则集合
RULE-SET,https://cdn.jsdelivr.net/gh/SukkaW/Surge@master/Source/non_ip/ai.conf,OpenAI,no-resolve,extended-matching

# 使用OpenAI规则集合
RULE-SET,https://cdn.jsdelivr.net/gh/EAlyce/conf@main/Rule/OpenAi.list,OpenAI,no-resolve,extended-matching

# 使用私人规则集合
RULE-SET,https://cdn.jsdelivr.net/gh/EAlyce/conf@main/Rule/PRIVATE.list,Privacy,no-resolve,extended-matching

# 设置Microsoft规则集合
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft.conf,Proxy,no-resolve,extended-matching

# 使用代理规则集合
RULE-SET,https://cdn.jsdelivr.net/gh/EAlyce/conf@main/Rule/Proxy.list,Proxy,no-resolve,extended-matching

# 使用国内规则集合，直连
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT,no-resolve,extended-matching

# 使用直连规则集合，直连
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,DIRECT,no-resolve,extended-matching

# 使用全球代理规则集合
RULE-SET,https://ruleset.skk.moe/List/non_ip/global_plus.conf,Proxy,no-resolve,extended-matching

# 使用全球代理规则集合
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,Proxy,no-resolve,extended-matching

# 使用国内IP规则集合，直连
RULE-SET,https://ruleset.skk.moe/List/ip/domestic.conf,DIRECT,no-resolve,extended-matching

# 使用直连规则集合，直连
RULE-SET,https://cdn.jsdelivr.net/gh/EAlyce/conf@main/Rule/DIRECT.list,DIRECT,no-resolve,extended-matching

# 触发DNS解析，直连本地网络
RULE-SET,LAN,DIRECT

# 中国地区直连
GEOIP,CN,DIRECT

# 最终规则，对于DNS解析失败的情况使用代理
FINAL,Proxy,dns-failed